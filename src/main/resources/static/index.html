
<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
<meta charset="UTF-8" />
<title>Chris's Barbell Repository</title>

<link rel="stylesheet" type="text/css" href="style.css"></link>


<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"
	type="text/javascript">
</script>


<script type="text/javascript">
	$(document).ready(function(){
		
		function getCount(data, weight){
			var count = 0;
			for(var i = 0; i < data.length; ++i){
				if(data[i] === weight){
					count++;
					addWeight('left', weight);
					addWeight('right', weight);
				}
			}
			return count;
		}
		
		function addWeight(side, weight){
			var barbell = document.getElementById('barbell');
			var plate = document.createElement('div');
			
			plate.style.position = 'relative';
			plate.style.width = '20px';
			plate.style.height = '50px';
			plate.style.backgroundColor = 'black';
			if(side === 'left'){
				plate.style.left = '46%';
				plate.style.top = '170px';
			}else if(side === 'right'){
				plate.style.left = '71%';
				plate.style.top = '125px';
			}
			
			plate.style.color = 'white';
			plate.style.textAlign = 'center';
			
			plate.innerHTML = weight;
			
			console.log(plate);
			
			barbell.appendChild(plate);
		}
		
		$("#calculateTargetWeightButton").click(function(){
			var targetWeightText = $("#targetWeightText").val();
		 	
			$.post("http://localhost:8080/weightLifting/weightCalc",
			{
				weight: targetWeightText
			},
			function(data, status){
				data = JSON.parse(data);
				
				var count45 = 0;
				for(var i= 0; i<data.length; ++i){
					if(data[i] === 45){
						count45++;
					}
				}
				
				$("#lbPlates45").text(getCount(data, 45));
				$("#lbPlates25").text(getCount(data, 25));
				$("#lbPlates10").text(getCount(data, 10));
				$("#lbPlates5").text(getCount(data, 5));
				$("#lbPlates2point5").text(getCount(data, 2.5));
			});
		});
	});
</script>

</head>
<body>
	<a href="/swagger-ui.html">SwaggerUI</a>
	<div class=intro>
		<label id="myTitle">Chris's Barbell Repository</label>
	</div>
	<div class="weightOnBarbellBox">

		<label for="lbPlates45" class="lbPlates"> 45lb Plates: </label> 
		<label id="lbPlates45">0</label>
		<br />
		<label for="lbPlates25" class="lbPlates"> 25lb Plates: </label>
		<label id="lbPlates25">0</label>
		<br />
		<label for="lbPlates10" class="lbPlates"> 10lb Plates: </label>
		<label id="lbPlates10">0</label>
		<br />
		<label for="lbPlates5" class="lbPlates"> 5lb Plates: </label>
		<label id="lbPlates5">0</label>
		<br />
		<label for="lbPlates2point5" class="lbPlates"> 2.5lb Plates: </label> 
		<label id="lbPlates2point5">0</label>
		<br />
		<label for="targetWeight" id="targetWeightLabel">Target Weight: </label> 
		<input type="text" id="targetWeightText" /> 
		<input type="button" id="calculateTargetWeightButton" value="Calculate" />
	</div>

	<div id=barbell></div>

	<br />
	<div id="words"></div>
</body>
</html>